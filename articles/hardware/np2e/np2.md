---
uid: np2e_np2
title: Neuropixels V2e Headstage Probe
hardware: Neuropixels V2e Headstage
device: true
---

The following excerpt from the [Neuropixels V2e Headstage example workflow](xref:np2e) demonstrates Neuropixels 2.0 probe functionality by streaming data and saves Neuropixels 2.0 probe data.

::: workflow
![/workflows/hardware/breakout/np2.bonsai workflow](../../../workflows/hardware/np2e/np2.bonsai)
:::

The <xref:OpenEphys.Onix1.NeuropixelsV2eData> operator generates a sequence of <xref:OpenEphys.Onix1.NeuropixelsV2eDataFrame>s. In the Neuropixels V2e Headstage example workflow,
- The `NeuropixelsV2eData`'s `BufferSize` is set to 30. Therefore, each frame will contain a 30-element `Clock` vector and a 384-channel x
  30-sample `AmplifierData` matrix. The Neuropixels 2.0 probe samples at 30 kHz per channel so this
  corresponds to 1 ms of data. <!--That's lower than the minimal latency introduced by the `BlockReadSize` setting. Therefore, the chosen value for  `BufferSize` will not impose a significant effect on processing latency. The buffer will be filled essentially every time hardware is accessed and propagated instantly.-->
- The `NeuropixelsV2eData`'s `DeviceName` property is set to "NeuropixelsV2eHeadstage/NeuropixelsV2e". This links the `NeuropixelsV2eData` operator to the corresponding configuration operator. 
- The `NeuropixelsV2eData`'s `ProbeIndex` property is set to "ProbeA". This links the data generated by this probe to the probe in the headstage's port A. 

The [`MemberSelector`](https://bonsai-rx.org/docs/api/Bonsai.Expressions.MemberSelectorBuilder.html) operators each select a member from the `NeuropixelsV2eDataFrame`, `Clock` and `AmplifierData`. The [`MatrixWriter`](https://bonsai-rx.org/docs/api/Bonsai.Dsp.MatrixWriter.html) operators saves the selected members to files with the following format: `np2-a-clock_<timestamp>.raw` and `np2-a-amp<timestamp>.raw`, respectively. 

The bottom processing workflow segment is an exact copy of the top half segment it's set to output data from a different probe and it's disabled. It can be enabled (by selecting those nodes and pressing <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>D</kbd> or clicking `Enable` in the context menu that appears after right-clicking them) if you want to record from two probes.

> [!NOTE]
> The Neuropixels V2e Beta Headstage functions nearly identically to the Neuropixels V2e Headstage. Simply replace `NeuropixelsV2eData` with `NeuropixelsV2eBetaData` and set its `DeviceName` property to "NeuropixelsV1eBetaHeadstage/NeuropixelsV1eBeta". 